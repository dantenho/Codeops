============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.1, pluggy-1.6.0 -- C:\Users\Dante\AppData\Local\Microsoft\WindowsApps\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Dante\Desktop\EudoraX\Prorotype\X.worktrees\CodeAgents
configfile: pyproject.toml
plugins: anyio-4.11.0, langsmith-0.4.49, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 14 items

tests/test_nodes.py::TestSocialMediaNode::test_fetch_reddit_trends PASSED [  7%]
tests/test_nodes.py::TestSocialMediaNode::test_fetch_youtube_trends PASSED [ 14%]
tests/test_nodes.py::TestSocialMediaNode::test_fetch_all_platforms PASSED [ 21%]
tests/test_nodes.py::TestCivitAINode::test_download_lora PASSED          [ 28%]
tests/test_nodes.py::TestCivitAINode::test_download_checkpoint PASSED    [ 35%]
tests/test_nodes.py::TestClipEvalNode::test_missing_image PASSED         [ 42%]
tests/test_nodes.py::TestClipEvalNode::test_score_range PASSED           [ 50%]
tests/test_nodes.py::TestRAGNode::test_rag_query_with_mock FAILED        [ 57%]
tests/test_nodes.py::TestRAGNode::test_rag_empty_results FAILED          [ 64%]
tests/test_nodes.py::TestGoogleGenAINode::test_no_api_key PASSED         [ 71%]
tests/test_nodes.py::TestRealESRGANNode::test_missing_script PASSED      [ 78%]
tests/test_nodes.py::TestAnime4KNode::test_upscale_image PASSED          [ 85%]
tests/test_nodes.py::TestFirecrawlNode::test_scrape_url FAILED           [ 92%]
tests/test_nodes.py::TestWorkflowIntegration::test_social_to_rag_flow FAILED [100%]

================================== FAILURES ===================================
____________________ TestRAGNode.test_rag_query_with_mock _____________________
tests\test_nodes.py:105: in test_rag_query_with_mock
    with patch('nodes.rag.node.get_vector_store') as mock_get_store:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
_____________________ TestRAGNode.test_rag_empty_results ______________________
tests\test_nodes.py:121: in test_rag_empty_results
    with patch('nodes.rag.node.get_vector_store') as mock_get_store:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
______________________ TestFirecrawlNode.test_scrape_url ______________________
tests\test_nodes.py:177: in test_scrape_url
    assert isinstance(output.data, list)
E   AssertionError: assert False
E    +  where False = isinstance({'url': 'http://example.com', 'status': 'crawled (mock)'}, list)
E    +    where {'url': 'http://example.com', 'status': 'crawled (mock)'} = FirecrawlOutput(data={'url': 'http://example.com', 'status': 'crawled (mock)'}).data
---------------------------- Captured stdout call -----------------------------
Executing Firecrawl on http://example.com
_______________ TestWorkflowIntegration.test_social_to_rag_flow _______________
tests\test_nodes.py:193: in test_social_to_rag_flow
    with patch('nodes.rag.node.get_vector_store') as mock:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\unittest\mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
---------------------------- Captured stdout call -----------------------------
Fetching trends from all for ['nft', 'digital art', 'generative art']
============================== warnings summary ===============================
tests/test_nodes.py::TestClipEvalNode::test_missing_image
  C:\Users\Dante\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\transformers\utils\hub.py:110: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/test_nodes.py::TestRAGNode::test_rag_query_with_mock - AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
FAILED tests/test_nodes.py::TestRAGNode::test_rag_empty_results - AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
FAILED tests/test_nodes.py::TestFirecrawlNode::test_scrape_url - AssertionError: assert False
 +  where False = isinstance({'url': 'http://example.com', 'status': 'crawled (mock)'}, list)
 +    where {'url': 'http://example.com', 'status': 'crawled (mock)'} = FirecrawlOutput(data={'url': 'http://example.com', 'status': 'crawled (mock)'}).data
FAILED tests/test_nodes.py::TestWorkflowIntegration::test_social_to_rag_flow - AttributeError: <module 'nodes.rag.node' from 'C:\\Users\\Dante\\Desktop\\EudoraX\\Prorotype\\X.worktrees\\CodeAgents\\nodes\\rag\\node.py'> does not have the attribute 'get_vector_store'
================== 4 failed, 10 passed, 1 warning in 26.99s ===================
